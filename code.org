#+TITLE: ADVENT OF CODE
#+AUTHOR: Berke Filiz
#+EMAIL: edu.berkefiliz@gmail.com
#+DATE: Wednesday, 1 December 2021
#+STARTUP: showall
#+PROPERTY: header-args :exports both :session advent :kernel base :cache no

* Imports
#+begin_src python
import numpy as np
#+end_src

* Day 1
#+begin_src python
with open("1.txt", "r") as f:
    data = np.array(list(map(int, f.read().split())))

len(data)
#+end_src

#+RESULTS:
: 2000

** Part 1
#+begin_src python
sum(np.ediff1d(data)>0)
#+end_src

#+RESULTS:
: 1766

** Part 2
#+begin_src python
sum(np.ediff1d(data[:-2]+data[1:-1]+data[2:])>0)
#+end_src

#+RESULTS:
: 1797

* Day 2
#+begin_src python
with open("2.txt", "r") as f:
    data = f.read().split("\n")[:-1]

len(data)
#+end_src

#+RESULTS:
: 1000

** Part 1
#+begin_src python
x, y = [0]*2
for row in data:
    d, v = row.split(" ")
    v = int(v)
    if d == "forward":
        x += v
    elif d == "down":
        y += v
    elif d == "up":
        y -= v
x*y
#+end_src

#+RESULTS:
: 2039912

** Part 2
#+begin_src python
x, y, a = [0]*3
for row in data:
    d, v = row.split(" ")
    v = int(v)
    if d == "forward":
        x += v
        y += a*v
    elif d == "down":
        a += v
    elif d == "up":
        a -= v
x*y
#+end_src

#+RESULTS:
: 1942068080

* Day 3
#+begin_src python
with open("3.txt", "r") as f:
    data = f.read().split()

len(data)
#+end_src

#+RESULTS:
: 1000

** Part 1
#+begin_src python
ones = np.array([0]*len(data[0]))
for row in data:
    ones += np.array(list(map(int, list(row))))
gamma = int(''.join(map(str, (ones>len(data)/2)*1)), 2)
epsilon = int(''.join(map(str, (ones<len(data)/2)*1)), 2)
gamma*epsilon
#+end_src

#+RESULTS:
: 4174964

** Part 2
#+begin_src python
def calc(copy=sorted(data), replace=False):
    for i in range(1, len(copy[0]) + 1):
        mid = copy[len(copy)//2][0:i]
        if replace: mid = mid[:-1] + {"0": "1", "1": "0"}[mid[-1]]
        copy = [s for s in copy if s.startswith(mid)]
        if len(copy) == 1:
            return int(copy[0], 2)
    return 1

calc() * calc(replace=True)
#+end_src

#+RESULTS:
: 4474944
